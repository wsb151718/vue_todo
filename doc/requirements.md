# Todo アプリ 要件定義

## 概要

Vue.js を使用した Todo アプリケーション。ローカルストレージを使用してデータを永続化し、タスクの追加、編集、削除、状態管理、フィルタリング機能を提供します。

## 機能要件

### 1. Todo の追加

- フォームに入力して追加ボタンを押すと、リストに新しい todo が追加される
- 追加された todo は未完了状態で初期化される

### 2. Todo の状態管理

- 各 todo は完了/未完了の状態を持つ
- トグルツールチップ（またはトグルボタン）で状態を切り替え可能
- 状態の変更は即座に反映される
- 完了状態の todo は視覚的に区別できる（例：打ち消し線、色の変更など）

### 3. Todo の削除

- 各 todo に削除ボタンを配置
- 削除ボタンをクリックすると、該当の todo がリストから削除される

### 4. データの永続化

- すべての todo データは `localStorage` を使用して保存
- ページをリロードしてもデータが保持される
- todo の追加、編集、削除、状態変更時に自動的に保存される

### 5. フィルター機能

- todo リストをフィルター可能にする
- フィルター種別：
  - **全て**：すべての todo を表示
  - **完了**：完了状態の todo のみ表示
  - **未完了**：未完了状態の todo のみ表示

### 6. 一括削除機能

- 完了状態の todo を一括削除するボタンを配置
- ボタンをクリックすると、すべての完了済み todo が削除される

### 7. 表示件数設定

- 表示件数を表示できる機能を実装

  ### 8. Todo の編集機能

- 追加された todo は編集可能にする
- 編集モードに切り替えて内容を変更できる
- 編集内容は保存される

### 8. リファクタ

- Todo.vue の todoList と lastInsertId を一つのリアクティブオブジェクトとして扱う。
- 一括削除ボタン、フィルターボタンをコンポーネント化
- コンポーネントの責務ごとにディレクトリ整理(Atomic design)
- props の定義がキャメルケースになっているか確認。
- props で型の定義、デフォルト値、バリデーションが必要な場合は、設定。
- 引数なし v-bind が使えないか検討
- emit のイベントのバリデーションが必要かどうか検討
- TodoItem で@blur 等でより良い実装(v-model.lazy)で対応できないか検討 -> 仕様上厳しかった。(カスタム修飾子を使えばいけるが、blur時にうまくいかないのでスルー)
- 自動継承について、許可するか検討する。
- provide/inject を利用する。
- composable に分離する
- グローバルに登録するべきものがあれば、main.js に登録し、プラグイン化する。(アプリ名などのプロパティやバリデーションロジックなど)
- 要素追加・削除時のアニメーションを作る。
- 単体テスト、composable テスト、コンポーネントテスト、E2E テストを実行する。

### 9. TodoList の最大高さを設定して、スクロールさせる。

- maxHeight を設定する。
- TodoList.vue の ul 要素をスクロール可能なリストをラップしたコンポーネントと変換する。

### 10. 詳細編集ボタンを追加して、ダイアログで詳細画面の編集を可能にする。

- 詳細モーダルは非同期読み込みすること。
- モーダルの外側をクリックした際に閉じること。さらにそれをカスタムディレクティブで実装すること。
- Teleport を利用する。

### 11. 大量データが登録された場合を考える。

### 12. VueUse の導入

- VueUse でいくつかの機能を代用してみる。

## 技術要件

- **フレームワーク**: Vue.js 3
- **データ保存**: localStorage
- **スタイリング**: CSS（必要に応じて）

## UI/UX 要件

- 直感的で使いやすいインターフェース
- 状態変更や削除時の視覚的フィードバック

## 非機能要件

- パフォーマンス：スムーズな動作
- データ整合性：localStorage の読み書きエラー処理
- ユーザビリティ：操作が分かりやすい UI
